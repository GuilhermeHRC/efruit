<!DOCTYPE html>
<html lang="br">
<head>
  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
  <script src='api.js'></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" type="text/css" href="style.css">
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <meta charset="utf-8">
  <title>E-Fruit</title>
</head>
<body>
  <nav class="d-none navbar fixed-bottom navbar-light bg-light only-mobile">
    <div class="container-fluid">
      <div class="row">
        <div class="col-4 d-flex justify-content-center align-items-center flex-column">
          <a href="#"><img src="img/home-icon.png" alt=""></a>
          <p class="text-menu-mobile">Home</p>
        </div>
        <div class="text-menu-mobile col-4 d-flex justify-content-center align-items-center flex-column">
          <a data-toggle="modal" data-target="#cartModal"><img src="img/shop-icon.png" alt=""></a>
          <p>Carrinho</p>
        </div>
        <div class="text-menu-mobile col-4 d-flex justify-content-center align-items-center flex-column">
          <a href="#"><img src="img/profile-icon.png" alt=""></a>
          <p>Perfil</p>
        </div>
      </div>
    </div>
  </nav>
  <div class='modal-background' id='modal-background'>
  </div>
  <div class='modal-container' id='modal'>
    <div class='product-container'>
      <strong>Página do Produto</strong>
      <div class='product-info'>
        <img id='modal-product-img' class='product-image' src='img\apple.png' alt='Apple' />
        <strong id='product-name'> Maça Fuji </strong>
        <div class="item-prop-container">
          <div class='align-item-prop'>
            <span>
              Preço por kilo:
            </span>
            <span id='price-kg'>
              R$ 16,47
            </span>
          </div>
          <div class='align-item-prop'>
            <span>
              Peso estimado:
            </span>
            <span id='weight'>
              300g
            </span>
          </div>
        </div>
        <div class='quantity-selector'>
          <div onclick="subQuantity()">
            -
          </div>
          <div id='quantity'>
            1
          </div>
          <div onclick="addQuantity()">
            +
          </div>
        </div>
      </div>
      <div class='item-prop-container'>
        <div class='align-item-prop'>
          <strong>
            Subtotal:
          </strong>
          <strong id='subtotal'>
            R$ 16,47
          </strong>
        </div>
      </div>
      <div id='add-to-cart-btn' onclick="addToCart()" class='to-cart-button'>
        ADICIONAR
      </div>
    </div>
  </div>

  <!-- Address Modal -->
  <div class="modal fade" id="formAddress" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Endereço da entrega</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="d-flex align-items-center justify-content-center">
            <form style="width: 90%">
              <div class="form-group">
                <div class="row">
                  <div class="col-9">
                    <label for="exampleInputEmail1">Endereço</label>
                    <input type="email" class="form-control"  placeholder="Endereço">
                  </div>
                  <div class="col-3">
                    <label for="exampleInputEmail1">Número</label>
                    <input type="email" class="form-control"  placeholder="Número">
                  </div>
                </div>
              </div>
              <div class="form-group">
                <div class="row">
                  <div class="col-6">
                    <label for="exampleInputEmail1">Bairro</label>
                    <input type="email" class="form-control"  placeholder="Bairro">
                  </div>
                  <div class="col-6">
                    <label for="exampleInputEmail1">Complemento</label>
                    <input type="email" class="form-control"  placeholder="Complemento">
                  </div>
                </div>
              </div>
              <div class="form-group">
                <div class="row">
                  <div class="col-6">
                    <label for="exampleInputEmail1">CEP</label>
                    <input type="email" class="form-control"  placeholder="CEP">
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-12 d-flex justify-content-center align-items-center">
                  <button type="submit" class="save-button">SALVAR ENDEREÇO</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>


  <!-- Payment Modal -->
  <div class="modal fade" id="formPayment" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Forma de pagamento</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="d-flex align-items-center justify-content-center">
            <form style="width: 90%">
              <div class="form-group">
                <label for="exampleInputEmail1">Número do cartão</label>
                <input type="email" class="form-control"  placeholder="Número do cartão">
              </div>
              <div class="form-group">
                <label for="exampleInputPassword1">Nome completo (como no cartão)</label>
                <input type="text" class="form-control" placeholder="Nome">
              </div>
              <div class="form-group">
                <div class="row">
                  <div class="col-6">
                    <label for="exampleInputEmail1">Validade</label>
                    <input type="email" class="form-control"  placeholder="Validade">
                  </div>
                  <div class="col-6">
                    <label for="exampleInputEmail1">CVV</label>
                    <input type="email" class="form-control"  placeholder="CVV">
                  </div>
                </div>
              </div>
              <div class="form-group">
                <div class="row">
                  <div class="col-6">
                    <label for="exampleInputEmail1">CPF</label>
                    <input type="email" class="form-control"  placeholder="CPF">
                  </div>
              </div>
            </div>
              <div class="row">
                <div class="col-12 d-flex justify-content-center align-items-center">
                  <button type="submit" class="save-button">SALVAR CARTÃO</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Checkout Modal -->
  <div class="modal fade" id="checkoutModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title"></h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="card" style="width: 100%;">

            <div class="ml-2 mt-3 row">
              <div class="col-6">
                <p><strong>Produto</strong></p>
              </div>
              <div class="col-6">
                <p><strong>Preço</strong></p>
              </div>
            </div>
            <div class="ml-2 row ">
              <div class="col-6">
                <p>Maça Fuji</p>
              </div>
              <div class="col-6">
                <p>R$ 16,47</p>
              </div>
            </div>
            <div class="ml-2 mt-3 row">
              <div class="col-6">
                <p><strong>Quantidade</strong></p>
              </div>
              <div class="col-6">
                <p><strong>Total</strong></p>
              </div>
            </div>

            <div class="row ml-2 ">
              <div class="col-6">
                <p>300g</p>
              </div>
              <div class="col-6">
                <p>R$ 4,94</p>
              </div>
            </div>


            <div class="row mt-4">
              <div class="ml-2 col-12 d-flex flex-row">
                <p><strong>Endereço da entrega</strong></p>
                <a data-toggle="modal" data-target="#formAddress" class="button-rounded ml-3">+</a>
              </div>
              <div class="ml-3 col-12">
                <p>Rua Dr Carlos Roberto, 418</p>
                <p>Apto 232</p>
                <p>JD Lutfalla</p>
                <p>xxxxx-xxx</p>
              </div>
            </div>
            <div class="row mt-2">
              <div class="ml-4 col-12 d-flex flex-row">
                <p><strong>Forma de pagamento</strong></p>
                <a data-toggle="modal" data-target="#formPayment" class="button-rounded ml-3">+</a>
              </div>
              <div class="ml-3 col-12">
                <p>Cartão de crédito</p>
                <p>VISA *********1234</p>
              </div>
            </div>
          </div>

          <div class="row mt-3">
            <div class="col-6 centralize-container">
              <h6 id="delivery-subtotal-message">Subtotal</h6>
            </div>
            <div class="col-6 centralize-container">
              <h6 id="delivery-subtotal-value">R$ 14,82</h6>
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-6 centralize-container">
              <h6 id="delivery-message">Entrega</h6>
            </div>
            <div class="col-6 centralize-container">
              <h6 id="delivery-value">R$ 1,00</h6>
            </div>
          </div>
          <div class="row mt-3" style="border-top: 1px solid #e6e8ea;">
            <div class="col-6 centralize-container">
              <h5 id="delivery-total-message">Total</h5>
            </div>
            <div class="col-6 centralize-container">
              <h5 id="delivery-total-value">R$ 15,82</h5>
            </div>
          </div>
          <div class="row mt-3">
            <div class="col-12 centralize-container">
              <button data-toggle="modal" data-target="" class="purchase bold" href="#">FINALIZAR COMPRA</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Cart Modal -->
  <div class="modal fade" id="cartModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Carrinho</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="card" style="width: 100%;">
            <div class="row">
              <div class="col-md-8 order-md-0 order-1 col-12">
                <div class="card-body">
                  <div class="row">
                    <div class="col-12">
                      <h6 class="card-title">Maça Fuji</h6>

                    </div>
                    <div class="col-8">
                      <p class="card-text">Preço : </p>
                      <p class="card-text">Quantidade : </p>
                      <p class="card-text">Total : </p>
                    </div>
                    <div class="col-4">
                      <p class="card-text">10 reais</p>
                      <p class="card-text">1</p>
                      <p class="card-text">10 reais</p>
                    </div>

                  </div>
                </div>

              </div>
              <div class="order-0 order-md-1 col-md-4 col-12 mb-2 d-flex justify-content-center align-items-center">
                <img class="" src="img\apple.png">
              </div>
            </div>
          </div>

          <div class="card mt-4" style="width: 100%;">
            <div class="row">
              <div class="col-md-8 order-md-0 order-1 col-12">
                <div class="card-body">
                  <div class="row">
                    <div class="col-12">
                      <h6 class="card-title">Maça Fuji</h6>

                    </div>
                    <div class="col-8">
                      <p class="card-text">Preço : </p>
                      <p class="card-text">Quantidade : </p>
                      <p class="card-text">Total : </p>
                    </div>
                    <div class="col-4">
                      <p class="card-text">10 reais</p>
                      <p class="card-text">1</p>
                      <p class="card-text">10 reais</p>
                    </div>

                  </div>
                </div>

              </div>
              <div class="order-0 order-md-1 col-md-4 col-12 mb-2 d-flex justify-content-center align-items-center">
                <img class="" src="img\apple.png">
              </div>
            </div>
          </div>

          <div class="card mt-4" style="width: 100%;">
            <div class="row">
              <div class="col-md-8 order-md-0 order-1 col-12">
                <div class="card-body">
                  <div class="row">
                    <div class="col-12">
                      <h6 class="card-title">Maça Fuji</h6>

                    </div>
                    <div class="col-8">
                      <p class="card-text">Preço : </p>
                      <p class="card-text">Quantidade : </p>
                      <p class="card-text">Total : </p>
                    </div>
                    <div class="col-4">
                      <p class="card-text">10 reais</p>
                      <p class="card-text">1</p>
                      <p class="card-text">10 reais</p>
                    </div>

                  </div>
                </div>

              </div>
              <div class="order-0 order-md-1 col-md-4 col-12 mb-2 d-flex justify-content-center align-items-center">
                <img class="" src="img\apple.png">
              </div>
            </div>
          </div>

          <div class="col-12 mt-3 centralize-container">
            <a class="forgot-password orange-text" href="#"><u>Adicionar mais itens</u></a>
          </div>
          <div class="row mt-3">
            <div class="col-6 centralize-container">
              <h5 id="cart-total-message">Total</h5>
            </div>
            <div class="col-6 centralize-container">
              <h5 id="cart-total-value">R$ 14,82</h5>
            </div>

          </div>
          <div class="row mt-3">
            <div class="col-12 centralize-container">
              <button id="cart-finish-button" data-toggle="modal" data-target="#checkoutModal" class="purchase bold" href="#">FINALIZAR COMPRA</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="top-bar">
    <spam class="only-web">Frete grátis nas compras acima de R$99 | Entrega segura | Até 6x sem juros</spam>
    <div class="top-bar-nav">
      <div></div>
      <h1 class="small-logo center-mobile">e-fruit</h1>
      <ul class="only-web top-bar-links">
        <li><a id='admin-page-link' href="admin.html" class="small-icon" style='visibility: hidden;'><i class="fa fa-user"></i></a></li>
        <li><a href="#" class="small-icon"><i class="fa fa-search"></i></a></li>
        <li><span onclick='logout()' style='cursor: pointer;' class="small-icon">Logout</span></li>
        <li><a data-toggle="modal" data-target="#cartModal" class="small-icon"><i class="fa fa-shopping-cart"></i></a></li>
        <li id="adjust-contrast"><a href="#" class="small-icon"><i class="fa fa-adjust"></i></a></li>
      </ul>
    </div>
  </div>

  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item active">
          <a class="nav-link" href="#">Comprar por categoria <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Frutas orgânicas</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Frutas silvestres</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Frutas secas</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Frutas exóticas</a>
        </li>
      </ul>
    </div>
  </nav>
  <div class="container-fluid ">
    <div class="row slider-fruit">
      <div class="display-none-720 col-4 d-flex justify-content-center align-items-center">
        <p class="left-slider">E-FRUIT</p>
        <p class="left-slider">FRIDAY</p>
      </div>
      <div class="col-md-4 col-12">
        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
          <ol class="carousel-indicators">
            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
          </ol>
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img src="img\frutas-slider.png" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
              <img src="img\frutas-slider.png" class="d-block w-100" alt="...">
            </div>
            <div class="carousel-item">
              <img src="img\frutas-slider.png" class="d-block w-100" alt="...">
            </div>
          </div>
        </div>
      </div>
      <div class="display-none-720 col-4 d-flex justify-content-center align-items-center flex-column">
        <p class="left-slider">50%</p>
        <p class="text-center">EM TODAS AS<br>FRUTAS VERMELHAS</p>
      </div>

    </div>
    <hr>
    <div
    id="products-list"
    class="row"
    >
    <div class="col-lg-9 col-12">
      <div id='products' class="row mb-5 mt-4">
      </div>
    </div>
  </div>
</div>
</div>

<script>

const createProductCard = (title, productPriceInfo, quantity, productImageSource, productImageAlt) => {
  const container = document.createElement('div');
  container.classList.add(
    'col-xl-4', 'col-sm-6', 'col-12', 'flex-row',
    'd-flex', 'align-items-center', 'justify-content-around', 'mt-5');

  const card = document.createElement('div');
  card.classList.add(
    'card', 'd-flex', 'align-items-center');

  const productImage = document.createElement('img');
  productImage.classList.add('card-img-top');
  productImage.src = productImageSource;
  productImage.alt = productImageAlt;

  const productInfo = document.createElement('div');
  productInfo.classList.add('card-body', 'text-center');

  const productTitle = document.createElement('h5');
  productTitle.classList.add('card-title');
  productTitle.innerText = title;
  
  const priceInfo = document.createElement('p');
  priceInfo.classList.add('card-text', 'price', 'mt-4');

  const productPrice = document.createElement('strong');
  productPrice.innerText = productPriceInfo;

  const productQuantity = document.createElement('p');
  productQuantity.innerText = quantity;

  const buttonContainer = document.createElement('div');
  buttonContainer.classList.add('card-body');

  const buttonLabel = document.createElement('p');
  buttonLabel.classList.add('card-link');
  buttonLabel.onclick = () => openProductInfoModal(title, productImageSource, productPriceInfo, quantity); 

  const buttonText = document.createElement('strong');
  buttonText.innerText = 'ADICIONAR AO CARRINHO';

  buttonLabel.appendChild(buttonText);
  priceInfo.appendChild(productPrice);
  priceInfo.appendChild(productQuantity);
  productInfo.appendChild(productTitle);
  productInfo.appendChild(priceInfo);
  buttonContainer.appendChild(buttonLabel);
  card.appendChild(productImage);
  card.appendChild(productInfo);
  card.appendChild(buttonContainer);
  container.appendChild(card);

  return container;
};

const loadProducts = async () => {

  const response = await apiGET('/product');
 
  if (response.status) {
    const products = document.getElementById('products');
    for (let productId in response.products) {
      let productCard = createProductCard(
        response.products[productId].name,
              `R$ ${response.products[productId].price.toString().replace('.', ',')}/Kg`,
        'Compra a cada 500g',
        response.products[productId].image,
        response.products[productId].name);
      products.appendChild(productCard);
    }
  }
};

function handleContrast(changeValue) {
  let isHighContrast = JSON.parse(localStorage.getItem("efruit:isHighContrast")) || false;

  if (changeValue) {
    isHighContrast = !isHighContrast;
    localStorage.setItem("efruit:isHighContrast", isHighContrast);
  }

  if (isHighContrast) {
    document.documentElement.style.setProperty("--primary", "#FFF");
    document.documentElement.style.setProperty("--secundary", "#F5F5F5");
    document.documentElement.style.setProperty("--white", "#000");
    document.documentElement.style.setProperty("--grey", "#8E8E8E");
  } else {
    document.documentElement.style.setProperty("--primary", "#FF7B01");
    document.documentElement.style.setProperty("--secundary", "#F5F5F5");
    document.documentElement.style.setProperty("--white", "#FFF");
    document.documentElement.style.setProperty("--grey", "#8E8E8E");
  }
}

window.onload = function () {
  const user = localStorage.getItem("efruit:user");

  if (!user) {
    window.location.href = "index.html";
  }
  else {
    localStorage.setItem('cart', JSON.stringify({}));
  }

  handleContrast(false);

  loadProducts();

  // test only
  const parsedUser = JSON.parse(user);
  if (parsedUser['email'] == 'admin@efruit.com') {
    const adminPageBtn = document.getElementById('admin-page-link');
    adminPageBtn.style.visibility = 'visible';
  }
}

$('button[data-target="#checkoutModal"]').on("click", function() {
  $('#cartModal').modal('hide');
});

$('a[data-target="#formPayment"]').on("click", function() {
  $('#checkoutModal').modal('hide');
});
$('a[data-target="#formAddress"]').on("click", function() {
  $('#checkoutModal').modal('hide');
});
$('#formPayment .save-button').on("click", function() {
  $('#checkoutModal').modal('show');
  $('#formPayment').modal('hide');
});
$('#formAddress .save-button').on("click", function() {
  $('#checkoutModal').modal('show');
  $('#formAddress').modal('hide');
});
$('.purchase').on("click", function() {
  $('#checkoutModal').modal('hide');
});

const modalBackground = document.getElementById('modal-background');
modalBackground.onclick = (e) => {
  e.preventDefault();

  const body = document.getElementsByTagName('body')[0];
  body.classList.remove('stop-scrolling');

  const modalBackground = document.getElementById('modal-background');
  const modal = document.getElementById('modal');

  modalBackground.style.visibility = 'hidden';
  modal.style.visibility = 'hidden';
};

const openProductInfoModal = (productName, imgSrc, price, weight) => {

  const modalProductImage = document.getElementById('modal-product-img');
  modalProductImage.src = imgSrc;

  const modalProductName = document.getElementById('product-name');
  modalProductName.innerText = productName;

  const modalProductPrice = document.getElementById('price-kg');
  modalProductPrice.innerText = price;
  const modalProductWeight = document.getElementById('weight');
  modalProductWeight.innerText = weight;

  const modalBackground = document.getElementById('modal-background');
  const modal = document.getElementById('modal');

  modalBackground.style.visibility = 'visible';
  modal.style.visibility = 'visible';

  document.documentElement.scrollTop = 0;

  const body = document.getElementsByTagName('body')[0];
  body.classList.add('stop-scrolling');
};

const addToCart = () => {
  const name = document.getElementById('product-name').innerText;
  const price = parseFloat(document.getElementById('price-kg')
  .innerText.replace(',', '.').replace('R$', ''));
  const weight = parseFloat(document.getElementById('weight')
  .innerText.replace(/g/, ''));
  const quantity = parseInt(document.getElementById('quantity').innerText);

  const cart = JSON.parse(localStorage.cart);

  if (!cart.hasOwnProperty(name)) {
    cart[name] = {
      "price": price,
      "weight": weight,
      "quantity": 0
    };
  }

  cart[name].quantity += quantity;
  localStorage.setItem('cart', JSON.stringify(cart));

  const addToCartButton = document.getElementById('add-to-cart-btn');
  addToCartButton.classList.add('added-to-cart');
  addToCartButton.innerText = 'ADICIONADO';
  setTimeout(() => {
    addToCartButton.classList.remove('added-to-cart');
    addToCartButton.innerText = 'ADICIONAR';
  }, 1000);
};

const updateSubtotal = (quantity) => {
  const priceElement = document.getElementById('price-kg');
  const price = parseFloat(priceElement.innerText.replace('R$', '').replace(',', '.'));

  const subtotalElement = document.getElementById('subtotal');
  subtotalElement.innerText = ('R$ ' + (price * quantity).toFixed(2)).replace('.', ',');
};

const addQuantity = () => {
  const quantityElement = document.getElementById('quantity');
  const quantity = parseInt(quantityElement.innerText) + 1;
  quantityElement.innerText = quantity;
  updateSubtotal(quantity);
};

const subQuantity = () => {
  const quantityElement = document.getElementById('quantity');
  const quantity = parseInt(quantityElement.innerText) - 1;

  if (quantity >= 0) {
    quantityElement.innerText = quantity;
    updateSubtotal(quantity);
  }
};

const logout = () => {
  delete localStorage['efruit:user'];
  delete localStorage['cart'];
  window.location.href = 'index.html';
};

const adjustContrastButton = document.getElementById("adjust-contrast");
adjustContrastButton.onclick = () => {
  handleContrast(true);
}

</script>
</body>
</html>
